<!DOCTYPE HTML>

<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <title>Registrar</title>
  </head>
  <body style="background-color:#4BE8E8;">
    <div class="container mt-5">
      <div class="row">
        <div class="col-4 mt-5">
          <div style="display: none;" id="menu" class="m-b-md mt-3">
	        <div class="row">
	          Seleccione cada uno de los siguientes campos para concluir el registro de la materia.
	        </div>
            <ul class="nav flex-column nav-tabs"  id="myTab">
              <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#step0"><strong></strong></a></li>
              <li class="nav-item"><a id="unidad" class="" data-toggle="tab" href="#step1"><strong>Numero de unidad acádemica</strong></a></li>
              <li class="nav-item"><a id="evaluacion" class="" data-toggle="tab" href="#step2"><strong>Evaluación</strong></a></li>
              <li class="nav-item"><a id="biblio" class="" data-toggle="tab" href="#step3"><strong>Bibliografía</strong></a></li>
              <li class="nav-item"><a id="practica" class="" data-toggle="tab" href="#step4"><strong>Relación de Prácticas</strong></a></li>
              <li class="nav-item"><a id="docente" class="" data-toggle="tab" href="#step5"><strong>Perfil docente</strong></a></li>
              <li class="nav-item"><a data-toggle="tab" href="#step10"><strong></strong></a></li>
            </ul>
          </div>
        </div>
        <div class="mt-5"></div>
        <div class="col ml-4 tab-content">
          <div class="tab-pane fade show active" id="step0" >
            <center><h3><strong>Ingrese los siguientes datos</strong></h3></center>
            <div class="row">
              <div class="col-4">
                <label>Nivel:</label>
              </div>
              <div class="col">
                <input class="form-control" type="number" id="idNivel" max="10" min="0"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Orientacion didactica:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idOrientacion" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Contenidos:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idContenido" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Salida Lateral:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idSalida" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Area de información:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idArea" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Academia:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idAcademia" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Especialidad:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idEspecialidad" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Modalidad:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idModalidad" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Tipo de Unidad de Aprendizaje:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idTipo" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Vigencia:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idVigencia" maxlength="45" placeholder="dd/mm/aaaa"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Créditos:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idCreditos" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Intención Educativa:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idIntencion" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Propósitos:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idPropositos" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Tiempos:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idTiempos" maxlength="254"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Diseñada por:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idDisenada" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Revisada por:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idRevisada" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Autorizado por:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idAutorizado" maxlength="45"/>
              </div>
            </div>
            <center>
              <a id="guardarMateria" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
          </div>
          <div class="tab-pane fade" id="step1">
            <center><h3><strong>Número de Unidad Academia</strong></h3></center>
            <div class="mt-3 row">
              <div class="col-4 mt-5">
                <label><strong>·</strong> Contenidos </label>
              </div>
              <div class="col">
                <table class="table table-bordered table-light">
                  <thead>
                    <tr>
                      <th scope="col">Número</th>
                      <th scope="col">Nombre</th>
                      <th scope="col">Horas con docente</th>
                      <th scope="col">Horas de Aprendizaje</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td><input class="form-control" type="number" id="idNumeroCon" min="1"/></td>
                      <td><input class="form-control" type="text" id="idNombreCon" maxlength="45"/></td>
                      <td><input class="form-control" type="number" id="idHorasCD" min="1"/></td>
                      <td><input class="form-control" type="number" id="idHorasDA" min="1"/></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label><strong>·</strong>Estrategias de Aprendizaje:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idEstrategias" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label><strong>·</strong> Evaluación de Aprendizaje:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idEvalacionA" maxlength="45"/>
              </div>
            </div>
            <center>
              <a id="guardarUnidad" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
          </div>
          <div class="tab-pane fade" id="step2">
            <div class="mb-3">
              <center><h3><strong>Evaluación</strong></h3></center>
            </div>
            <div class="row">
              <div class="col-2">
                <label><strong>·</strong> Practica:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idPractica" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-2">
                <label><strong>·</strong> Teórica:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idTeorica" maxlength="45"/>
              </div>
            </div>
            <center>
              <a id="guardarEvaluacion" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
          </div>
          <div class="tab-pane fade" id="step3">
            <div class="mb-3">
              <center><h3><strong>Bibliografía</strong></h3></center>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Clave:</label>
              </div>
              <div class="col">
                <input class="form-control" id="idClave"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Referencia:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idReferencia" maxlength="45"/>
              </div>
            </div>
            <center>
              <a id="guardarReferencia" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
          </div>
          <div class="tab-pane fade" id="step4">
            <center><h3><strong>Ingrese los siguientes datos</strong></h3></center>
            <div class="row">
              <div class="col-4">
                <label>No practica:</label>
              </div>
              <div class="col">
                <input class="form-control" type="number" id="idNoPractica"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Nombre de la práctica:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idNombrePractica" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Unidades Tematicas:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idUnidadesTematicas" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Duración:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idDuracion" maxlength="45"/>
              </div>
            </div>

            <div class="row">
              <div class="col-4">
                <label>Lugar de realización:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idLugarDeRealizacion" maxlength="45"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Total de horas:</label>
              </div>
              <div class="col">
                <input class="form-control" type="number" id="idTotalDeHoras" min="1"/>
              </div>
            </div>
            <div class="row">
              <div class="col-4">
                <label>Evaluación y acreditación:</label>
              </div>
              <div class="col">
                <input class="form-control" type="text" id="idEvaluacionPractica" maxlength="45"/>
              </div>
            </div>
            <center>
              <a id="guardarPractica" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
          </div>
          <div class="tab-pane fade" id="step5">
            <center><h3><strong>Perfil del docente</strong></h3></center>
            <div class="mt-3 row">
            <div class="col-3 mt-5">
              <label><strong>·</strong> Perfil Docente:</label>
            </div>
            <div class="col">
              <table class="table table-bordered table-light">
                <thead>
                  <tr>
                    <th scope="col">Conocimientos</th>
                    <th scope="col">Experiencia Laboral</th>
                    <th scope="col">Habilidades</th>
                    <th scope="col">Actitudes</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><input class="form-control" type="text" id="idConocimiento" maxlength="254"/></td>
                    <td><input class="form-control" type="text" id="idExperiencia" maxlength="254"/></td>
                    <td><input class="form-control" type="text" id="idHabilidades" maxlength="254"/></td>
                    <td><input class="form-control" type="text" id="idActitudes" maxlength="254"/></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <center>
              <a id="guardarDocente" class="btn btn-default prev" style="background-color:#4BE8E8;" >
                <img th:src="@{/img/botones/Selección_005.png}" width="150px"maxlength="45"/>
              </a>
            </center>
            </div>
          </div>
          <div class="tab-pane fade" id="step10">
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  	  <div class="modal-dialog" role="document">
  	    <div class="modal-content">
  	      <div class="modal-header">
  	        <h5 class="modal-title" id="exampleModalLabel">Salvar Materia</h5>
  	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
  	          <span aria-hidden="true">&times;</span>
  	        </button>
  	      </div>
  	      <div class="modal-body">
  	        ¿Desea terminar el registro?
  	      </div>
  	      <div class="modal-footer">
          	<button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            	<button  id="guardar_todo" class="btn" style="background-color:#FFFBF1;" type="button">
              	<img th:src="@{/img/botones/Selección_005.png}" width="90px"/>
            	</button>
  	      </div>
	       </div>
	      </div>
    </div>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script type="text/javascript">
      $("#guardar_todo").click(function () {
    	    var datosDocente = $("#idConocimiento").val()+","+$("#idExperiencia").val()+","+$("#idHabilidades").val()+","+$("#idActitudes").val();
	  	    var datosEvaluacion = $("#idPractica").val()+","+$("#idTeorica").val();
          var datosMateria = $("#idOrientacion").val()+","+$("#idContenido").val()+","+$("#idSalida").val()+","+$("#idArea").val()+","+$("#idIntencion").val()+","+$("#idPropositos").val();
          var datosComiteRevisor = $("#idDisenada").val()+","+$("#idRevisada").val()+","+$("#idAutorizado").val();
          var datosEncabezadoBasico = $("#idNivel").val()+","+$("#idModalidad").val()+","+$("#idTipo").val()+","+$("#idVigencia").val()+","+$("#idCreditos").val()+","+$("#idTiempos").val()+","+
          $("#idAcademia").val()+","+$("#idEspecialidad").val();
          var datosUnidad = $("#idEstrategias").val()+","+$("#idEvalacionA").val();
          var datosContenidos = $("#idNumeroCon").val()+","+$("#idNombreCon").val()+","+$("#idHorasCD").val()+","+$("#idHorasDA").val();
          var datosPractica = $("#idNoPractica").val()+","+$("#idNombrePractica").val()+","+$("#idDuracion").val()+","+$("#idLugarDeRealizacion").val()+","+$("#idTotalDeHoras").val()+","+$("#idEvaluacionPractica").val();
          var datosReferencia = $("#idClave").val()+","+$("#idReferencia").val();
          var datos = {};
      		datos["datosMateria"] = datosMateria;
      		datos["datosEvaluacion"] = datosEvaluacion;
      		datos["datosDocente"] = datosDocente;
          datos["datosComiteRevisor"] = datosComiteRevisor;
          datos["datosEncabezadoBasico"] = datosEncabezadoBasico;
          datos["datosUnidad"] = datosUnidad;
          datos["datosContenidos"] = datosContenidos;
          datos["datosPractica"] = datosPractica;
          datos["datosReferencia"] = datosReferencia;
      		$.ajax({
      		  contentType: "application/json",
      		  url: '/agregar_todo',
      		  data: JSON.stringify(datos),
      		  type:'POST',
      		  dataType: 'json',
      		  success: function (data) {
      		    if (data) {
      		      swal("¡Exito!","Su registro se ha hecho de Manera exitosa", "success").then((value) => {
      		            window.location.href = '/';
                    });;
      		    }
      		  }
      		});
	     });
    </script>
    <script type="text/javascript">
      $("#guardarMateria").click(function(){
        var datosMateria = [$("#idOrientacion").val(),$("#idContenido").val(),$("#idSalida").val(),$("#idIntencion").val(),$("#idPropositos").val(),$("#idArea").val()];
        var datosComiteRevisor = [$("#idDisenada").val(),$("#idRevisada").val(),$("#idAutorizado").val()];
        var datosEncabezadoBasico = [$("#idNivel").val(),$("#idModalidad").val(),$("#idTipo").val(),$("#idVigencia").val(),$("#idCreditos").val(),$("#idTiempos").val(),
        $("#idAcademia").val(),$("#idEspecialidad").val()];
        var bandera = 0;
        for (var i = 0; i < datosMateria.length; i++) {
          if(datosMateria[i] == ""){
            bandera = 1;
          }
        }
        for (var i = 0; i < datosComiteRevisor.length; i++) {
          if(datosComiteRevisor[i] == ""){
            bandera = 1;
          }
        }
        for (var i = 0; i < datosEncabezadoBasico.length; i++) {
          if(datosEncabezadoBasico[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
          $('#myTab a[href="#step10"]').tab('show') // Select tab by name
          $("#menu").show();
	      }
      });
    </script>
    <script type="text/javascript">
      $("#guardarDocente").click(function(){
        var datosDocente = [$("#idConocimiento").val(),$("#idExperiencia").val(),$("#idHabilidades").val(),$("#idActitudes").val()];
        var bandera = 0;
        for (var i = 0; i < datosDocente.length; i++) {
          if(datosDocente[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
	        //$('#myTab a[href="#step10"]').tab('show'); // Select tab by name
          $("#myModal").modal('show');
          document.getElementById("docente").style.color = '#080300';
          $('#docente').addClass("disabled");
        }
      });
    </script>
    <script type="text/javascript">
      $("#guardarEvaluacion").click(function(){
        var bandera = 0;
        var datosEvaluacion = [$("#idPractica").val(),$("#idTeorica").val()];
        for (var i = 0; i < datosEvaluacion.length; i++) {
          if(datosEvaluacion[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
          $('#myTab a[href="#step10"]').tab('show') // Select tab by name
          document.getElementById("evaluacion").style.color = '#080300';
          $('#evaluacion').addClass("disabled");
        }
      });
    </script>
    <script type="text/javascript">
      $("#guardarReferencia").click(function(){
        var datosReferencia = [$("#idClave").val(),$("#idReferencia").val()];
        var bandera = 0;
        for (var i = 0; i < datosReferencia.length; i++) {
          if(datosReferencia[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
          $('#myTab a[href="#step10"]').tab('show') // Select tab by name
          document.getElementById("biblio").style.color = '#080300';
          $('#biblio').addClass("disabled");
        }
      });
    </script>
    <script type="text/javascript">
      $("#guardarPractica").click(function(){
        var datosPractica = [$("#idNoPractica").val(),$("#idNombrePractica").val(),$("#idNombrePractica").val(),$("#idUnidadesTematicas").val(),$("#idDuracion").val(),$("#idLugarDeRealizacion").val(),$("#idTotalDeHoras").val(),$("#idEvaluacionPractica").val()];
        var bandera = 0;
        //var expresionReg = RegExp("/^[1-9]+$");
        for (var i = 0; i < datosPractica.length; i++) {
          if(datosPractica[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
          $('#myTab a[href="#step10"]').tab('show') // Select tab by name
          document.getElementById("practica").style.color = '#080300';
          $('#practica').addClass("disabled");
        }
      });
    </script>
    <script type="text/javascript">
      $("#guardarUnidad").click(function(){
        var expresionReg = RegExp("/^[1-9]+$");

        var datosUnidad = [$("#idNombreCon").val(),$("#idHorasCD").val(),$("#idHorasDA").val(),$("#idEstrategias").val(),$("#idEvalacionA").val()];
        var bandera = 0;
        for (var i = 0; i < datosUnidad.length; i++) {
          if(datosUnidad[i] == ""){
            bandera = 1;
          }
        }
        if (bandera == 1) {
          swal("Error", "Algun campo no ha sido llenado", "error");
        }else{
          $('#myTab a[href="#step10"]').tab('show') // Select tab by name
          document.getElementById("unidad").style.color = '#080300';
          $('#unidad').addClass("disabled");
        }
      });
    </script>

  </body>
</html>

